# 결론

- 작은단위로 자주 리팩토링을 해라!
- 결합도와 응집도를 개선하는 방향으로의 작은 리팩토링
- 아무 이유없이 하던 작업을 이제 논리를 주장하면서 할수있다.

# 내용

- 소규모 설계
    - 지저분한 코드가 있는데, 이 코드를 바로 변경해야할까? 아님 코드정리를 먼저 해야할까에 대한 고민

---

- 디자인 패턴이나, 리팩터링의 약점은 **거대하게 느껴진다**는것이다.
- 소프트웨어 설계를 잘 하고싶다면 하루에 여러번 설계고민을 하고 실천을 해봐야한다.

---

- 의미가 잘 전달되는 코드를 작성하려면 코드의 겉모습도 신경써야한다. 알고리즘이 코드의 내용이면, 코드의 겉모습은 곧 형식이다. 이 책은 그런 형식에 대한 책이다.
- 켄트백은 이 책을 통해 코드를 형식적인 측면에서 깔끔하게 작성하는 방법을 알려준다.
- 아주 작은 수준의 리팩터링!
- 컴퓨터 코드의 복잡성은 코드가 부분으로 조직되는 방식, 각 부분 사이의 결합도, 그리고 각 부분들 사이의 응집도에 따라 달라진다.

# Part 1. 코드 정리정리

- 구체적인것에서 출발해 추상적인 것으로 나아가는 학습을 선호

## 01. 보호구문

- 얼리리턴
- 하나의 루틴에는 하나의 반환문

<aside>
💡 1. 하나의 루틴에 하나의 반환을 맞추면서 작성하는지?

</aside>

```jsx
const test = () => {
if(1){

return {}
}

if(2){
return {};
}
```

## 02. 안쓰는 코드

- 코드를 조금만 삭제해라. 예를들어 조건 내용을 정해서 true를 반환할수도있고, 루틴하나, 파일하나, 디렉토리 하나정도로 해나갈수있다.

<aside>
💡 사용하지않는 코드를 어떻게 처리하는지?

</aside>

## 03. 대칭으로 맞추기

동일한 액션을 한가지 패턴으로 맞춰서 작성해라

<aside>
💡 다른 팀원이 작성한 코드의 컨벤션을 맞춰가면서 작성하시나요?

</aside>

## 04. 새로운 인터페이스로 기존 루틴 부르기

- 통로 인터페이스
- 루틴을 호출해야하는데, 기존인터페이스때문에 어렵거나 복잡하거나 혼란스러우면 인터페이스를 새롭게 구현해서 호출해라

---

- 거꾸로 코딩하기 : 루틴의 마지막줄부터 시작해봐라. 반환값을 먼저 정하기
    - 반환타입을 미리 정해놓으면 tdd의 효과도 있다.
- 테스트 우선 코딩 : 테스트부터 작성하여 통과 조건을 정한다.

## 05. 읽는 순서

- 코드를 읽을때는 독자의 입장이 되어봐라
- 전체 파일의 순서를 바꾸는대신에, 읽는 순서가 영향을 크게주는것부터 바꾸세요

<aside>
💡 코드 순서 어떻게 정하시는지?!

</aside>

## 06. 응집도를 높이는 배치

- 같은 루틴을 가지는 코드가잇으면 근처에둬라. 두 루틴에 결합도가 있으면!!
- 두 파일에 결합도가있으면 같은 디렉토리에 넣어라.
- 일단은 결합도를 제거하는것이 좋긴하다. 만약 결합도를 제거하는것에 대한 부담이있다면, 응집도를 높이는것에 초점을 맞춰봐라

## 07. 선언과 초기화를 함께 옮기기

- 변수선언과 초기화 위치는 종종 서로 떨어져있다.
- 변수 초기화는 이름이 주는 의미를 더 강화한다.
- **만약 선언과 초기화가 떨어져있다면 변수가 어떤 맥락에서 선언되었는지 잊어버릴지도 모른다.**
- 작은 수준의 코드 정리를 시작해봐라.

<aside>
💡 저같은 경우는 비동기적으로 초기화를 해야하는경우에 커스텀훅으로 빼기도합니다

</aside>

## 08. 설명하는 변수

- 코드의 표현식이 너무 장황해지면 중간중간에 변수에 할당해 맥락파악에 용이하도록 수정한다.

```jsx
const arr = pipe(arr, A.filter);
const obj = pip(arr,A.map, O.fromEntires,O.keys);
```

## 09. 설명하는 상수

- 상징적인 상수를 만들어라. 리터럴 상수로 사용된곳은 상징적인 상수로 바꿔라.

<aside>
💡 리터럴 값은 무조건 상수로 선언해서 쓰시나요?

</aside>

const ONE_UORU = 1_000 * 6_000

## 11. 비슷한 코드끼리

- 코드의 문맥이 다를땐 두 코드사이에 빈 줄을 넣는것부터 시작해볼수있다. 간단한것부터 시작!
- **소프트웨어 설계가 큰일이 되면, 설계 작업을 아예 그만두고싶은 위험에 직면한다. 그러나 적절한 소프트웨어 설계는 변화를 가능하게한다. 작은 소프트웨어 설계로 변화를 좀 더 쉽게 만들수있다**
- 제대로 된 소프트웨어 설계는 유연성을 확보하지만, 그렇지못한 경우는 변화자체를 망각하고 소프트웨어 설계의 소용돌이에 빠질수 있다.

## 12. 도우미 추출

- 코드를 보다가 루틴 속 코드중에서 목적이 분명하고 나머지 코드와는 상호작용이 적은 코드 블록을 만날때가 있다.
- 그 코드 블록을 추려내고, helper 도우미로 추출한 후에 이름을 붙인다.
- 메서드 추출 리팩토링

## 13. 하나의 더미

- 코드를 만드는데, 가장 큰 비용이 들어가는 일은 코드 작성이 아니라 읽고 이해하는 데 드는 비용입니다.
- 때로는 코드가 여러개의 작은 조각으로 나뉘어져있기도한데, 흩어져있으면 전체적으로 이해하기 어렵다. 필요한만큼의 코드를 하나의 더미처럼 느껴질때까지 흩어진 코드를 모아라.
- 명확성을 찾으려면 먼저 코드를 한데 모아서 이해하기 어려운 부분은 추출해서 새롭게 정리해야한다.

## 14. 설명하는 주석

- 코드에서 명확하지 않은 내용만 골라 적어라.
- 다른 사람의 관점에서 생각하고 예상되는 질문을 선제적으로 언급하려고 노력해야한다.

## 15. 불필요한 주석 지우기

- 코드만으로 내용을 모두 이해할수있다면 주석은 모두 제거해라.
- 코드를 작성하는 목적은 다른 프로그래머에게 컴퓨터가 해야할 일을 설명하는데있다.
    - 코드는 컴퓨터에게 지시하는 용도가 1차 목표이지만, 코드를 정리해서 읽는 사람도 이해하기쉽게 하는일이 결국 설계행위라는 생각에 바탕을 둠

## 16. 코드 정리 구분

- 코드 정리는 별도의 PR로 만들고, 가급적 PR당 몇개의 코드정리만 넣는다.
- 코드 리뷰받을때 범위가 너무 넓어지기때문에 코드정리와 동작변경은 다른 PR로 분리한다.
- 코드 정리와 동작 변경을 섞지않아야한다.

## 18. 코드 정리의 일괄 처리량

- 코드 정리는 먼 미래를 바라보는것이 아니기때문에 즉각적인 필요를 다뤄야한다.
- 저자는 코드를 먼저 정리하는것을 선호하지만, 정리 그 자체를 목적으로 삼지않도록 경계해야한다.
    
![image](https://github.com/user-attachments/assets/98562b13-3140-4e09-b3df-b07b8a370c82)

    

# 논의해보고 싶은 주제

1. 지금까지 개발 공부를 하면서 제일 어려웠던 개념은 뭐가있나요?
    1. 보안, DB 암호화. 
        1. https://www.google.com/search?q=csrf&sourceid=chrome&ie=UTF-8
    2. 운영체제
        - 의사코드
    3. 인프라 aws ecs. lb, 방화벽,…….
    4. oauth2.0, oidc
    5. 회사 도메인
2. 만약 이직을 해보신분들은 이직시 첫 일주일동안 
3. 어떤걸 했는지? 그리고 신경쓰면 좋을게 뭐가있을지?
    1. package.json을 보면서 기술스택 파악하기. 문서보기, 큰그림
    2. 도메인 관련 공부
    3. 커피챗, 인사
    4. 알아서 잘 하기. 질문 잘 하기. 나서기
    5. 빨리 적응하기
    6. `히스토리 파악하기`
    7. 3개월 버티기
    8. 팀원 이름외우기
4. 업무를 할때 시간이 남으면 여러분은 어떤걸 하시는지?
    1. 리팩토링, 테스트코드 작성, 개인공부?!
    2. 다른 사람 PR 구경 리뷰구경
    3. 다른 팀 업무파악
5. 본인의 5년동안의 커리어를 생각해보기
    1. F
    2. T
    3. 관리직/개발직
6. 리팩토링을 할때 가장 중요하게 생각하는것?
7. 유지보수 하기 좋은 코드는 어떤것이라고 생각하는지?
    1. 결합도
    2. 응집도
8. 칸반보드를 만들라는 태스크를 받으면 어떤 방식으로 진행해볼건지?
    1. 설계, 레퍼런스 찾기….
9. 어떤 개발자가 되고싶은지?!
